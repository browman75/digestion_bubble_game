<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>序章 - 為什麼要消化？</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Noto+Sans+TC:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
    <div id="game-container">
        <header>
            <h1>為什麼要消化？</h1>
            <p>
                消化作用是將大分子分解成小分子過程。<br>
                身體需要將食物中的大分子養分，分解成可穿過細胞膜的小分子，才能吸收利用。
            </p>
        </header>

        <main id="game-area">
            <div id="macromolecule-area">
                <div id="initial-message">快使用正確的消化酵素，幫助細胞吸收養分吧！</div>
            </div>
            <div id="feedback-area">
                </div>
            <div id="cell-membrane-area">
                <div class="channel" id="glucose-channel">葡萄糖專用通道</div>
                <div class="channel" id="amino-acid-channel">胺基酸專用通道</div>
                <div class="channel" id="lipid-channel">脂肪酸直接通過細胞膜</div>
            </div>
        </main>

        <footer>
            <div id="info-bar">
                <div id="timer">時間：60</div>
                <div id="score">分數：0</div>
            </div>
            <div id="enzyme-buttons">
                <button id="amylase-btn" class="enzyme-btn">澱粉酶</button>
                <button id="protease-btn" class="enzyme-btn">蛋白酶</button>
                <button id="lipase-btn" class="enzyme-btn">脂肪酶</button>
            </div>
        </footer>
    </div>

    <div id="game-over-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <h2>時間到！</h2>
            <p id="final-score-text"></p>
            <p id="final-comment"></p>
        </div>
    </div>

    <div id="assessment-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content assessment-content">
            <h2>學習評量</h2>

            <div class="assessment-scroll-area">
                <div class="question" id="q3">
                    <p><b>第一題：</b>將大分子養分轉變成較小分子養分的過程稱為什麼？</p>
                    <form id="mcq-question-2">
                        <label><input type="radio" name="digestion-q2" value="A"> (A) 攝食</label>
                        <label><input type="radio" name="digestion-q2" value="B"> (B) 吸收</label>
                        <label><input type="radio" name="digestion-q2" value="C"> (C) 消化</label>
                    </form>
                </div>
                
                <div class="question" id="q1">
                    <p><b>第二題：</b>請將左邊的大分子，配對到它分解後產生的小分子。</p>
                    <div id="drag-drop-question">
                        <div class="drag-column">
                            <div class="draggable" draggable="true" id="drag-starch">澱粉糖串</div>
                            <div class="draggable" draggable="true" id="drag-protein">蛋白質鏈</div>
                            <div class="draggable" draggable="true" id="drag-lipid">脂質塊</div>
                        </div>
                        <canvas id="line-canvas" width="100" height="150"></canvas>
                        <div class="drop-column">
                            <div class="droptarget" data-match="drag-protein">胺基酸</div>
                            <div class="droptarget" data-match="drag-lipid">脂肪酸與甘油</div>
                            <div class="droptarget" data-match="drag-starch">葡萄糖</div>
                        </div>
                    </div>
                </div>

                <div class="question" id="q2">
                    <p><b>第三題：</b>為什麼食物需要「消化」？</p>
                    <form id="mcq-question-1">
                        <label><input type="radio" name="digestion-q1" value="A"> (A) 為了讓食物變得更好吃。</label>
                        <label><input type="radio" name="digestion-q1" value="B"> (B) 因為大分子養分要分解成小分子，才能通過細胞膜被吸收。</label>
                        <label><input type="radio" name="digestion-q1" value="C"> (C) 為了殺死食物中的細菌。</label>
                        <label><input type="radio" name="digestion-q1" value="D"> (D) 讓肚子有飽足感。</label>
                    </form>
                </div>
            </div>

            <p id="assessment-hint" style="display: none;"></p>
            <div class="navigation-buttons">
                <button id="prev-page-btn" disabled>上一頁</button>
                <button id="restart-btn">重新開始</button>
                <button id="check-answers-btn">檢查答案</button>
                <button id="next-page-btn" disabled>下一頁</button>
            </div>
            
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/drag-drop-touch/DragDropTouch.js"></script>

    <script src="script.js"></script>
</body>
</html>
